<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="../../static/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="../../static/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--disabled="true" 输入框不得编辑-->
    <link rel="stylesheet" href="css/my.css">
    <link rel="stylesheet" href="css/pagination.css">
    <script src="js/jquery.pagination.js"></script>

    <style>
        .colora th{
            background-color: #d4d4d4;
        }
    </style>
</head>
<body>
<div class="row">
    <div class="col-lg-2"style="background-color: #c3c3c3 ;height: 1000px ;font-size: 22px" >
        <ul class="nav nav-pills nav-stacked">

            <li role="presentation" ><a href="/toUser">修改信息</a></li>
            <li role="presentation" class="active"><a href="/stulibrary">图书馆</a></li>
            <li role="presentation" ><a href="/remine">我的借书/还书</a></li>
        </ul>
    </div>

    <div class="col-lg-10 container-fluid">
        <form action="/seebook">
            <table >
                <tr ><td> <h3>查询图书</h3></td></tr>
                <tr class="tablec" >
                    <td>出版社 <select name="publishing">
                        <option value="">全部</option>
                        <option value="商务印书馆">商务印书馆</option>
                        <option value="人们文学出版社">人们文学出版社</option>
                        <option value="作家出版社">作家出版社</option>
                        <option value="上海文艺出版社">上海文艺出版社</option>
                        <option value="中国人民大学出版社">中国人民大学出版社</option>
                    </select>
                    </td>
                    <td>图书类型<select name="leixing">
                        <option value="">全部</option>
                        <option value="名著">名著</option>
                        <option value="科普">科普</option>
                        <option value="百科">百科</option>
                        <option value="科幻">科幻</option>
                        <option value="爱情">爱情</option>
                        <option value="悬疑">悬疑</option>
                        <option value="军事">军事</option>
                        <option value="武侠">武侠</option>
                    </select>
                    </td>
                    <td>书名<td><input  type="text" name="bookname" value=""></td></td>
                    <td><button>查询</button></td>
                </tr>

            </table>
        </form>
        <div id="Searchresult">分页初始化完成后这里的内容会被替换。</div>
        <div id="hiddenresult" style="display:none;">
            <!-- 列表元素 -->
            <div ><table  class="result table table-hover table-bordered">
                <tr>
                    <td>id</td>
                    <td>类型</td>
                    <td>书名</td>
                    <td>作者</td>
                    <td>简介</td>
                    <td>出版社</td>
                    <td>isbn</td>
                    <td>价钱</td>
                    <td>总数</td>
                    <td>借出</td>
                    <td>操作</td>
                </tr>
                <!--这里是你遍历的数据 -->
                <tr th:each="lists:${book}">

                    <td th:text="${lists.getId()}"></td>
                    <td th:text="${lists.getLeixing()}"></td>
                    <td th:text="${lists.getBookname()}"></td>
                    <td th:text="${lists.getWriter()}"></td>
                    <td th:text="${lists.getIntro()}"></td>
                    <td th:text="${lists.getPublishing()}"></td>
                    <td th:text="${lists.getIsbn()}"></td>
                    <td th:text="${lists.getMoney()}"></td>
                    <td th:text="${lists.getSum()}"></td>
                    <td th:text="${lists.getLoan()}"></td>
                    <td><a th:href="@{'/borrow?id='+${lists.getId()}+'&bookname='+${lists.getBookname()}+'&isbn='+${lists.getIsbn()}}"><button>借书</button></a></td>
                </tr>

                <!--<tr th:text="${page.hasNext()}">-->
                <!--<td><a th:href="@{'/ew?num'+${page.hasNext()}}">下一页</a></td>-->
                <!--</tr>-->

            </table></div>
            <div ><table  class="result table table-hover table-bordered">
                <tr>
                    <td>id</td>
                    <td>类型</td>
                    <td>书名</td>
                    <td>作者</td>
                    <td>简介</td>
                    <td>出版社</td>
                    <td>isbn</td>
                    <td>价钱</td>
                    <td>总数</td>
                    <td>借出</td>
                    <td>操作</td>
                </tr>
                <!--这里是你遍历的数据 -->
                <tr th:each="lists:${two}">

                    <td th:text="${lists.getId()}"></td>
                    <td th:text="${lists.getLeixing()}"></td>
                    <td th:text="${lists.getBookname()}"></td>
                    <td th:text="${lists.getWriter()}"></td>
                    <td th:text="${lists.getIntro()}"></td>
                    <td th:text="${lists.getPublishing()}"></td>
                    <td th:text="${lists.getIsbn()}"></td>
                    <td th:text="${lists.getMoney()}"></td>
                    <td th:text="${lists.getSum()}"></td>
                    <td th:text="${lists.getLoan()}"></td>
                    <td><a th:href="@{'/borrow?id='+${lists.getId()}+'&bookname='+${lists.getBookname()}+'&isbn='+${lists.getIsbn()}}"><button>借书</button></a></td>
                </tr>
            </table></div>
            <div ><table  class="result table table-hover table-bordered">
                <tr>
                    <td>id</td>
                    <td>类型</td>
                    <td>书名</td>
                    <td>作者</td>
                    <td>简介</td>
                    <td>出版社</td>
                    <td>isbn</td>
                    <td>价钱</td>
                    <td>总数</td>
                    <td>借出</td>
                    <td>操作</td>
                </tr>
                <!--这里是你遍历的数据 -->
                <tr th:each="lists:${three}">

                    <td th:text="${lists.getId()}"></td>
                    <td th:text="${lists.getLeixing()}"></td>
                    <td th:text="${lists.getBookname()}"></td>
                    <td th:text="${lists.getWriter()}"></td>
                    <td th:text="${lists.getIntro()}"></td>
                    <td th:text="${lists.getPublishing()}"></td>
                    <td th:text="${lists.getIsbn()}"></td>
                    <td th:text="${lists.getMoney()}"></td>
                    <td th:text="${lists.getSum()}"></td>
                    <td th:text="${lists.getLoan()}"></td>
                    <td><a th:href="@{'/borrow?id='+${lists.getId()}+'&bookname='+${lists.getBookname()}+'&isbn='+${lists.getIsbn()}}"><button>借书</button></a></td>
                </tr>
            </table></div>
            <div ><table  class="result table table-hover table-bordered">
                <tr>
                    <td>id</td>
                    <td>类型</td>
                    <td>书名</td>
                    <td>作者</td>
                    <td>简介</td>
                    <td>出版社</td>
                    <td>isbn</td>
                    <td>价钱</td>
                    <td>总数</td>
                    <td>借出</td>
                    <td>操作</td>
                </tr>
                <!--这里是你遍历的数据 -->
                <tr th:each="lists:${four}">

                    <td th:text="${lists.getId()}"></td>
                    <td th:text="${lists.getLeixing()}"></td>
                    <td th:text="${lists.getBookname()}"></td>
                    <td th:text="${lists.getWriter()}"></td>
                    <td th:text="${lists.getIntro()}"></td>
                    <td th:text="${lists.getPublishing()}"></td>
                    <td th:text="${lists.getIsbn()}"></td>
                    <td th:text="${lists.getMoney()}"></td>
                    <td th:text="${lists.getSum()}"></td>
                    <td th:text="${lists.getLoan()}"></td>
                    <td><a th:href="@{'/borrow?id='+${lists.getId()}+'&bookname='+${lists.getBookname()}+'&isbn='+${lists.getIsbn()}}"><button>借书</button></a></td>
                </tr>
            </table></div>
        </div>

        <div id="Pagination" class="pagination">
            <!-- 这里显示分页 -->
        </div>
        </div>

    </div>
</div>



<script type="text/javascript">
    $(function() {
        //这是一个非常简单的demo实例，让列表元素分页显示
        //回调函数的作用是显示对应分页的列表项内容
        //回调函数在用户每次点击分页链接的时候执行
        //参数page_index{int整型}表示当前的索引页
        var initPagination = function() {
            var num_entries = $("#hiddenresult .result").length;
            // 创建分页
            $("#Pagination").pagination(num_entries, {
                num_edge_entries: 1, //边缘页数
                num_display_entries: 4, //主体页数
                callback: pageselectCallback,
                items_per_page: 1 //每页显示1项
            });
        }();

        function pageselectCallback(page_index, jq) {
            var new_content = $("#hiddenresult .result:eq(" + page_index + ")").clone();
            $("#Searchresult").empty().append(new_content); //装载对应分页的内容
            return false;
        }
    });
</script>
</body>
</html>